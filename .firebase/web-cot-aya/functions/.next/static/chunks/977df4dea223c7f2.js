(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},88054,51931,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),i=e.i(73518);function s({children:e}){let{user:s,loading:o}=(0,i.useAuth)(),a=(0,n.useRouter)();return((0,r.useEffect)(()=>{o||s||a.push("/login")},[s,o,a]),o)?(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"#fafafa"},children:(0,t.jsx)("p",{style:{fontSize:"1.1rem",color:"#667085"},children:"Cargando..."})}):s?(0,t.jsx)(t.Fragment,{children:e}):null}function o(){let{user:e,signOut:r}=(0,i.useAuth)(),s=(0,n.useRouter)(),o=async()=>{await r(),s.push("/login")};return e?(0,t.jsx)("div",{style:{position:"fixed",top:0,right:0,padding:"1rem 2rem",zIndex:1e3,display:"flex",alignItems:"center",gap:"1rem"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"#ffffff",padding:"0.5rem 1rem",borderRadius:"50px",border:"1px solid #f1f5f9",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.photoURL&&(0,t.jsx)("img",{src:e.photoURL,alt:e.firstName||"User",style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #f1f5f9"}}),(0,t.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#101828"},children:e.firstName||"Usuario"}),(0,t.jsx)("button",{onClick:o,style:{background:"none",border:"none",color:"#667085",fontSize:"0.75rem",cursor:"pointer",padding:"0.25rem 0.5rem",borderRadius:"6px",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="#f8fafc",e.currentTarget.style.color="#101828"},onMouseOut:e=>{e.currentTarget.style.background="none",e.currentTarget.style.color="#667085"},children:"Salir"})]})}):null}e.s(["ProtectedRoute",()=>s],88054),e.s(["NavBar",()=>o],51931)},74647,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),i=e.i(88054),s=e.i(51931);function o(){let[e,o]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),c=(0,n.useRouter)(),d=async(t,r)=>{if(r.stopPropagation(),confirm("¿Estás seguro de que quieres eliminar esta cotización?"))try{await fetch(`/api/quotations/${t}`,{method:"DELETE"}),o(e.filter(e=>e.id!==t))}catch(e){console.error(e)}};(0,r.useEffect)(()=>{fetch("/api/quotations").then(e=>401===e.status?(c.push("/login"),[]):e.json()).then(e=>{Array.isArray(e)?o(e):(console.error("API Error:",e.error),o([])),l(!1)}).catch(e=>{console.error(e),l(!1)})},[c]);let u=async()=>{try{let e=await fetch("/api/quotations",{method:"POST",body:JSON.stringify({clientName:"Sin Título"})}),t=await e.json();c.push(`/quotations/${t.id}`)}catch(e){console.error(e)}};return(0,t.jsxs)(i.ProtectedRoute,{children:[(0,t.jsx)(s.NavBar,{}),(0,t.jsxs)("main",{className:"container",children:[(0,t.jsxs)("div",{style:{marginBottom:"3rem",display:"flex",justifyContent:"space-between",alignItems:"end"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:"2.5rem",color:"#101828",letterSpacing:"-0.02em"},children:"Mis Cotizaciones"}),(0,t.jsx)("p",{style:{color:"#667085",marginTop:"0.5rem",fontSize:"1.1rem"},children:"Administra y crea nuevas propuestas profesionales."})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,t.jsx)("button",{className:"btn btn-secondary",onClick:()=>c.push("/settings"),children:"Configuración"}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:u,children:"Nueva Cotización"})]})]}),(0,t.jsx)("div",{className:"content-frame",style:{padding:"3.5rem"},children:a?(0,t.jsx)("div",{style:{color:"#101828",textAlign:"center",padding:"4rem",fontSize:"1.1rem"},children:"Cargando cotizaciones..."}):0===e.length?(0,t.jsxs)("div",{style:{textAlign:"center",padding:"5rem 2rem"},children:[(0,t.jsx)("h3",{style:{fontSize:"1.5rem",color:"#101828"},children:"Aún no tienes cotizaciones"}),(0,t.jsx)("p",{style:{color:"#667085",margin:"1.5rem 0",fontSize:"1rem"},children:"Crea tu primera cotización para comenzar a trabajar."}),(0,t.jsx)("button",{className:"btn btn-primary",style:{padding:"0.875rem 2rem"},onClick:u,children:"Comenzar ahora"})]}):(0,t.jsx)("div",{className:"grid-list",children:e.map(e=>(0,t.jsxs)("div",{className:"card",style:{cursor:"pointer",padding:"2rem",border:"1px solid #f1f5f9"},onClick:()=>c.push(`/quotations/${e.id}`),children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontWeight:"700",color:"#101828",fontSize:"0.9rem",letterSpacing:"0.05em"},children:e.code}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,t.jsx)("span",{className:`status-badge status-${e.status}`,style:{background:"#f8fafc",color:"#475569",border:"1px solid #f1f5f9"},children:e.status}),(0,t.jsx)("button",{onClick:t=>d(e.id,t),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1rem",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="#dc2626",onMouseOut:e=>e.currentTarget.style.color="#94a3b8",title:"Eliminar",children:"Borrar"})]})]}),(0,t.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"0.5rem",color:"#101828",fontWeight:"600"},children:e.clientName||"Sin Cliente"}),(0,t.jsxs)("p",{style:{fontSize:"0.875rem",color:"#667085"},children:["Última edición: ",new Date(e.updatedAt).toLocaleDateString()]}),(0,t.jsxs)("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f1f5f9",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,t.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#94a3b8"},children:"Total"}),(0,t.jsxs)("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#101828"},children:["$",e.total.toFixed(2)]})]})]},e.id))})})]})]})}e.s(["default",()=>o])}]);