module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},26280,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(49975);function f({children:a}){let{user:f,loading:g}=(0,e.useAuth)(),h=(0,d.useRouter)();return((0,c.useEffect)(()=>{g||f||h.push("/login")},[f,g,h]),g)?(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"#fafafa"},children:(0,b.jsx)("p",{style:{fontSize:"1.1rem",color:"#667085"},children:"Cargando..."})}):f?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},85690,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(26280),f=a.i(49975);function g(){let{user:a,signOut:c}=(0,f.useAuth)(),e=(0,d.useRouter)(),g=async()=>{await c(),e.push("/login")};return a?(0,b.jsx)("div",{style:{position:"fixed",top:0,right:0,padding:"1rem 2rem",zIndex:1e3,display:"flex",alignItems:"center",gap:"1rem"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",background:"#ffffff",padding:"0.5rem 1rem",borderRadius:"50px",border:"1px solid #f1f5f9",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[a.photoURL&&(0,b.jsx)("img",{src:a.photoURL,alt:a.displayName||a.firstName||"User",style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #f1f5f9"}}),(0,b.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#101828"},children:(a.displayName||a.firstName||"Usuario").split(" ")[0]}),(0,b.jsx)("button",{onClick:g,style:{background:"none",border:"none",color:"#667085",fontSize:"0.75rem",cursor:"pointer",padding:"0.25rem 0.5rem",borderRadius:"6px",transition:"all 0.2s"},onMouseOver:a=>{a.currentTarget.style.background="#f8fafc",a.currentTarget.style.color="#101828"},onMouseOut:a=>{a.currentTarget.style.background="none",a.currentTarget.style.color="#667085"},children:"Salir"})]})}):null}function h(){let[a,f]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),j=(0,d.useRouter)(),k=async(b,c)=>{if(c.stopPropagation(),confirm("¿Estás seguro de que quieres eliminar esta cotización?"))try{await fetch(`/api/quotations/${b}`,{method:"DELETE"}),f(a.filter(a=>a.id!==b))}catch(a){console.error(a)}};(0,c.useEffect)(()=>{fetch("/api/quotations").then(a=>401===a.status?(j.push("/login"),[]):a.json()).then(a=>{Array.isArray(a)?f(a):(console.error("API Error:",a.error),f([])),i(!1)}).catch(a=>{console.error(a),i(!1)})},[j]);let l=async()=>{try{let a=await fetch("/api/quotations",{method:"POST",body:JSON.stringify({clientName:"Sin Título"})}),b=await a.json();j.push(`/quotations/${b.id}`)}catch(a){console.error(a)}};return(0,b.jsxs)(e.ProtectedRoute,{children:[(0,b.jsx)(g,{}),(0,b.jsxs)("main",{className:"container",children:[(0,b.jsxs)("div",{style:{marginBottom:"3rem",display:"flex",justifyContent:"space-between",alignItems:"end"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontSize:"2.5rem",color:"#101828",letterSpacing:"-0.02em"},children:"Mis Cotizaciones"}),(0,b.jsx)("p",{style:{color:"#667085",marginTop:"0.5rem",fontSize:"1.1rem"},children:"Administra y crea nuevas propuestas profesionales."})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,b.jsx)("button",{className:"btn btn-secondary",onClick:()=>j.push("/settings"),children:"Configuración"}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:l,children:"Nueva Cotización"})]})]}),(0,b.jsx)("div",{className:"content-frame",style:{padding:"3.5rem"},children:h?(0,b.jsx)("div",{style:{color:"#101828",textAlign:"center",padding:"4rem",fontSize:"1.1rem"},children:"Cargando cotizaciones..."}):0===a.length?(0,b.jsxs)("div",{style:{textAlign:"center",padding:"5rem 2rem"},children:[(0,b.jsx)("h3",{style:{fontSize:"1.5rem",color:"#101828"},children:"Aún no tienes cotizaciones"}),(0,b.jsx)("p",{style:{color:"#667085",margin:"1.5rem 0",fontSize:"1rem"},children:"Crea tu primera cotización para comenzar a trabajar."}),(0,b.jsx)("button",{className:"btn btn-primary",style:{padding:"0.875rem 2rem"},onClick:l,children:"Comenzar ahora"})]}):(0,b.jsx)("div",{className:"grid-list",children:a.map(a=>(0,b.jsxs)("div",{className:"card",style:{cursor:"pointer",padding:"2rem",border:"1px solid #f1f5f9"},onClick:()=>j.push(`/quotations/${a.id}`),children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontWeight:"700",color:"#101828",fontSize:"0.9rem",letterSpacing:"0.05em"},children:a.code}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,b.jsx)("span",{className:`status-badge status-${a.status}`,style:{background:"#f8fafc",color:"#475569",border:"1px solid #f1f5f9"},children:a.status}),(0,b.jsx)("button",{onClick:b=>k(a.id,b),style:{background:"none",border:"none",color:"#94a3b8",cursor:"pointer",fontSize:"1rem",transition:"color 0.2s"},onMouseOver:a=>a.currentTarget.style.color="#dc2626",onMouseOut:a=>a.currentTarget.style.color="#94a3b8",title:"Eliminar",children:"Borrar"})]})]}),(0,b.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"0.5rem",color:"#101828",fontWeight:"600"},children:a.clientName||"Sin Cliente"}),(0,b.jsxs)("p",{style:{fontSize:"0.875rem",color:"#667085"},children:["Última edición: ",new Date(a.updatedAt).toLocaleDateString()]}),(0,b.jsxs)("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f1f5f9",display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,b.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",color:"#94a3b8"},children:"Total"}),(0,b.jsxs)("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#101828"},children:["S/ ",(a.total||0).toFixed(2)]})]})]},a.id))})})]})]})}a.s(["default",()=>h],85690)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__70ed5813._.js.map