{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/lib/numberToWords.js"],"sourcesContent":["export function numberToSpanishWords(n) {\r\n    if (n === 0) return 'CERO';\r\n\r\n    const units = ['', 'UN', 'DOS', 'TRES', 'CUATRO', 'CINCO', 'SEIS', 'SIETE', 'OCHO', 'NUEVE'];\r\n    const teens = ['DIEZ', 'ONCE', 'DOCE', 'TRECE', 'CATORCE', 'QUINCE', 'DIECISEIS', 'DIECISIETE', 'DIECIOCHO', 'DIECINUEVE'];\r\n    const tens = ['', '', 'VEINTE', 'TREINTA', 'CUARENTA', 'CINCUENTA', 'SESENTA', 'SETENTA', 'OCHENTA', 'NOVENTA'];\r\n    const hundreds = ['', 'CIENTO', 'DOSCIENTOS', 'TRESCIENTOS', 'CUATROCIENTOS', 'QUINIENTOS', 'SEISCIENTOS', 'SETECIENTOS', 'OCHOCIENTOS', 'NOVECIENTOS'];\r\n\r\n    function convertGroup(n) {\r\n        let output = '';\r\n        if (n >= 100) {\r\n            if (n === 100) return 'CIEN';\r\n            output += hundreds[Math.floor(n / 100)] + ' ';\r\n            n %= 100;\r\n        }\r\n        if (n >= 20) {\r\n            if (n === 20) output += 'VEINTE';\r\n            else if (n > 20 && n < 30) output += 'VEINTI' + units[n - 20];\r\n            else {\r\n                output += tens[Math.floor(n / 10)];\r\n                if (n % 10 > 0) output += ' Y ' + units[n % 10];\r\n            }\r\n        } else if (n >= 10) {\r\n            output += teens[n - 10];\r\n        } else if (n > 0) {\r\n            output += units[n];\r\n        }\r\n        return output.trim();\r\n    }\r\n\r\n    if (n === 1000) return 'MIL';\r\n    if (n === 1000000) return 'UN MILLON';\r\n\r\n    let result = '';\r\n\r\n    if (n >= 1000000) {\r\n        const millions = Math.floor(n / 1000000);\r\n        result += (millions === 1 ? 'UN MILLON' : convertGroup(millions) + ' MILLONES') + ' ';\r\n        n %= 1000000;\r\n    }\r\n\r\n    if (n >= 1000) {\r\n        const thousands = Math.floor(n / 1000);\r\n        result += (thousands === 1 ? 'MIL' : convertGroup(thousands) + ' MIL') + ' ';\r\n        n %= 1000;\r\n    }\r\n\r\n    if (n > 0) {\r\n        result += convertGroup(n);\r\n    }\r\n\r\n    return result.trim().toUpperCase();\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,qBAAqB,CAAC;IAClC,IAAI,MAAM,GAAG,OAAO;IAEpB,MAAM,QAAQ;QAAC;QAAI;QAAM;QAAO;QAAQ;QAAU;QAAS;QAAQ;QAAS;QAAQ;KAAQ;IAC5F,MAAM,QAAQ;QAAC;QAAQ;QAAQ;QAAQ;QAAS;QAAW;QAAU;QAAa;QAAc;QAAa;KAAa;IAC1H,MAAM,OAAO;QAAC;QAAI;QAAI;QAAU;QAAW;QAAY;QAAa;QAAW;QAAW;QAAW;KAAU;IAC/G,MAAM,WAAW;QAAC;QAAI;QAAU;QAAc;QAAe;QAAiB;QAAc;QAAe;QAAe;QAAe;KAAc;IAEvJ,SAAS,aAAa,CAAC;QACnB,IAAI,SAAS;QACb,IAAI,KAAK,KAAK;YACV,IAAI,MAAM,KAAK,OAAO;YACtB,UAAU,QAAQ,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,GAAG;YAC1C,KAAK;QACT;QACA,IAAI,KAAK,IAAI;YACT,IAAI,MAAM,IAAI,UAAU;iBACnB,IAAI,IAAI,MAAM,IAAI,IAAI,UAAU,WAAW,KAAK,CAAC,IAAI,GAAG;iBACxD;gBACD,UAAU,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI;gBAClC,IAAI,IAAI,KAAK,GAAG,UAAU,QAAQ,KAAK,CAAC,IAAI,GAAG;YACnD;QACJ,OAAO,IAAI,KAAK,IAAI;YAChB,UAAU,KAAK,CAAC,IAAI,GAAG;QAC3B,OAAO,IAAI,IAAI,GAAG;YACd,UAAU,KAAK,CAAC,EAAE;QACtB;QACA,OAAO,OAAO,IAAI;IACtB;IAEA,IAAI,MAAM,MAAM,OAAO;IACvB,IAAI,MAAM,SAAS,OAAO;IAE1B,IAAI,SAAS;IAEb,IAAI,KAAK,SAAS;QACd,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI;QAChC,UAAU,CAAC,aAAa,IAAI,cAAc,aAAa,YAAY,WAAW,IAAI;QAClF,KAAK;IACT;IAEA,IAAI,KAAK,MAAM;QACX,MAAM,YAAY,KAAK,KAAK,CAAC,IAAI;QACjC,UAAU,CAAC,cAAc,IAAI,QAAQ,aAAa,aAAa,MAAM,IAAI;QACzE,KAAK;IACT;IAEA,IAAI,IAAI,GAAG;QACP,UAAU,aAAa;IAC3B;IAEA,OAAO,OAAO,IAAI,GAAG,WAAW;AACpC"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/components/QuotationDocument.js"],"sourcesContent":["import React from 'react';\r\nimport { Page, Text, View, Document, StyleSheet, Image, Font } from '@react-pdf/renderer';\r\nimport { numberToSpanishWords } from '@/lib/numberToWords';\r\n\r\n// Register fonts if needed (we'll stick to standard ones for now to ensure speed)\r\n// Ideally, we would register a bold font, but Helvetica-Bold is standard.\r\n\r\nconst styles = StyleSheet.create({\r\n    page: {\r\n        flexDirection: 'column',\r\n        backgroundColor: '#FFFFFF',\r\n        padding: 40, // More padding for a professional look\r\n        fontFamily: 'Helvetica',\r\n        fontSize: 9,\r\n        color: '#111',\r\n    },\r\n    // Header Section\r\n    headerContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        marginBottom: 10,\r\n    },\r\n    companyColumn: {\r\n        width: '60%',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-start',\r\n    },\r\n    logo: {\r\n        height: 50,\r\n        maxWidth: 150,\r\n        objectFit: 'contain',\r\n        objectPosition: 'left',\r\n        marginBottom: 5,\r\n    },\r\n    companyName: {\r\n        fontSize: 14,\r\n        fontWeight: 'bold',\r\n        textTransform: 'uppercase',\r\n        color: '#333', // Soften black to dark gray\r\n    },\r\n    companyDetails: {\r\n        fontSize: 8,\r\n        color: '#444',\r\n        marginBottom: 2,\r\n    },\r\n    link: {\r\n        color: '#007bff',\r\n        textDecoration: 'none',\r\n    },\r\n    // Quotation Box (Right side)\r\n    quotationBox: {\r\n        width: '40%',\r\n        backgroundColor: '#f3f4f6', // Light gray background\r\n        padding: 0,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    quotationBoxInner: {\r\n        width: '100%',\r\n        paddingVertical: 15,\r\n        alignItems: 'center',\r\n    },\r\n    rucText: {\r\n        fontSize: 10,\r\n        fontWeight: 'bold',\r\n        marginBottom: 5,\r\n    },\r\n    docTitle: {\r\n        fontSize: 14,\r\n        fontWeight: 'bold',\r\n        marginBottom: 5,\r\n    },\r\n    docNumber: {\r\n        fontSize: 12,\r\n        fontWeight: 'bold',\r\n    },\r\n    // Info Strip (Date, Currency)\r\n    infoStrip: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#f3f4f6',\r\n        padding: 4,\r\n        marginBottom: 10,\r\n        borderTopWidth: 2,\r\n        borderTopColor: '#007acc', // Blue accent line\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n    },\r\n    infoItem: {\r\n        marginRight: 40,\r\n        flexDirection: 'row',\r\n    },\r\n    infoLabel: {\r\n        fontWeight: 'bold',\r\n        marginRight: 5,\r\n    },\r\n    // Section Headers (1. CLIENTE, 2. DETALLES...)\r\n    sectionHeader: {\r\n        fontSize: 8,\r\n        fontWeight: 'bold',\r\n        color: '#007acc',\r\n        marginBottom: 3,\r\n        marginTop: 6,\r\n        textTransform: 'uppercase',\r\n    },\r\n    // Client Section\r\n    clientContainer: {\r\n        marginBottom: 10,\r\n        paddingBottom: 5,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#eee',\r\n    },\r\n    clientRow: {\r\n        flexDirection: 'row',\r\n        marginBottom: 3,\r\n    },\r\n    clientLabel: {\r\n        fontWeight: 'bold',\r\n        width: 100,\r\n    },\r\n    // Table\r\n    table: {\r\n        width: '100%',\r\n        marginTop: 5,\r\n    },\r\n    tableHeader: {\r\n        flexDirection: 'row',\r\n        backgroundColor: '#f9fafb',\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n        paddingVertical: 6,\r\n        paddingHorizontal: 4,\r\n    },\r\n    th: {\r\n        fontWeight: 'bold',\r\n        fontSize: 7,\r\n        textTransform: 'uppercase',\r\n    },\r\n    tableRow: {\r\n        flexDirection: 'row',\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#eee',\r\n        paddingVertical: 2, // Even less vertical padding\r\n        paddingHorizontal: 4,\r\n        minHeight: 20, // Lower min height\r\n        alignItems: 'center',\r\n    },\r\n    // Columns (Flexible widths)\r\n    colCode: { width: '8%' },\r\n    colDesc: { width: '62%' }, // Increased width\r\n    // colUnit removed\r\n    colQty: { width: '10%', textAlign: 'center' },\r\n    // colVal removed\r\n    colPrice: { width: '10%', textAlign: 'right' }, // Precio.U\r\n    colTotal: { width: '10%', textAlign: 'right' },\r\n\r\n    // Description Cell\r\n    descContainer: {\r\n        flexDirection: 'row',\r\n        alignItems: 'flex-start',\r\n    },\r\n    itemImage: {\r\n        width: 30,\r\n        height: 30,\r\n        marginRight: 5,\r\n        objectFit: 'cover',\r\n        borderRadius: 2,\r\n    },\r\n    itemTextContainer: {\r\n        flex: 1,\r\n    },\r\n    itemTitle: {\r\n        fontSize: 8,\r\n        marginBottom: 2,\r\n    },\r\n    itemDescText: {\r\n        fontSize: 7,\r\n        color: '#555',\r\n    },\r\n\r\n    // Totals Section\r\n    totalsContainer: {\r\n        marginTop: 10,\r\n        alignSelf: 'flex-end',\r\n        width: '35%',\r\n        paddingTop: 5,\r\n    },\r\n    totalRow: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        paddingVertical: 3,\r\n    },\r\n    totalRowFinal: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        paddingVertical: 5,\r\n        borderTopWidth: 1,\r\n        borderTopColor: '#000',\r\n        marginTop: 2,\r\n    },\r\n    totalLabel: {\r\n        fontWeight: 'bold',\r\n    },\r\n    totalValue: {\r\n        textAlign: 'right',\r\n    },\r\n    totalAmountText: {\r\n        fontSize: 8,\r\n        marginTop: 5,\r\n        textAlign: 'right',\r\n        fontStyle: 'italic',\r\n        width: '100%',\r\n    },\r\n\r\n    // Footer / Notes\r\n    footerContainer: {\r\n        marginTop: 20,\r\n        borderTopWidth: 1,\r\n        borderTopColor: '#ccc',\r\n        paddingTop: 10,\r\n    },\r\n    notesText: {\r\n        fontSize: 7,\r\n        lineHeight: 1.4,\r\n        textAlign: 'justify',\r\n        color: '#444',\r\n    },\r\n    paymentContainer: {\r\n        marginTop: 10,\r\n        backgroundColor: '#f9fafb',\r\n        padding: 10,\r\n        borderRadius: 4,\r\n    },\r\n    paymentRow: {\r\n        flexDirection: 'row',\r\n        marginBottom: 2,\r\n    },\r\n    paymentLabel: {\r\n        fontWeight: 'bold',\r\n        width: 120,\r\n        fontSize: 7,\r\n    },\r\n    paymentVal: {\r\n        fontSize: 7,\r\n    },\r\n});\r\n\r\nexport const QuotationDocument = ({ data }) => {\r\n    // Destructure properties from data or set defaults\r\n    const {\r\n        clientName = '',\r\n        clientRuc = '',\r\n        clientAddress = '',\r\n        code = '0000',\r\n        items = [],\r\n        company = {},\r\n        date = new Date().toLocaleDateString(),\r\n        currency = 'Soles', // Default currency\r\n        notes = '', // Default notes\r\n        serviceDescription = '', // Default service description\r\n    } = data;\r\n\r\n    // Calculate totals\r\n    const subtotal = items.reduce((acc, item) => acc + (parseFloat(item.price || 0) * parseFloat(item.quantity || 1)), 0);\r\n    const igvRate = 0.18;\r\n    // Assuming the input price is the UNIT PRICE (Inc IGV) or UNIT VALUE (Ex IGV)? \r\n    // Usually in these systems, you simplify. Let's assume input price is \"Valor U\" (Ex IGV) for the calculation flow:\r\n    // Subtotal = Sum(Qty * Price)\r\n    // IGV = Subtotal * 0.18\r\n    // Total = Subtotal + IGV\r\n    // Note: The reference image shows \"Valor.U\" and \"Precio.U\". \r\n    // Valor.U usually means base price. Precio.U usually means price including tax.\r\n\r\n    const igv = subtotal * igvRate;\r\n    const total = subtotal + igv;\r\n\r\n    return (\r\n        <Document>\r\n            <Page size=\"A4\" style={styles.page}>\r\n\r\n                {/* 1. Header Section */}\r\n                <View style={styles.headerContainer}>\r\n                    <View style={styles.companyColumn}>\r\n                        {company.logoUrl && (\r\n                            <Image src={company.logoUrl} style={styles.logo} />\r\n                        )}\r\n                        <Text style={styles.companyName}>{company.name || 'MI EMPRESA S.A.C.'}</Text>\r\n                        <View style={{ height: 5 }} />\r\n\r\n                        <Text style={styles.companyDetails}>{company.address || 'Av. Principal 123, Lima, PerÃº'}</Text>\r\n                        <Text style={styles.companyDetails}>RUC: {company.ruc || '20123456789'}</Text>\r\n                        <Text style={styles.companyDetails}>{company.email || 'ventas@miempresa.com'} | {company.phone || '999 888 777'}</Text>\r\n                        <Text style={[styles.companyDetails, styles.link]}>{company.website || 'www.miempresa.com'}</Text>\r\n                    </View>\r\n\r\n                    <View style={styles.quotationBox}>\r\n                        <View style={styles.quotationBoxInner}>\r\n                            <Text style={styles.rucText}>RUC {company.ruc || '20000000001'}</Text>\r\n                            <Text style={styles.docTitle}>COTIZACIÃ“N</Text>\r\n                            <Text style={styles.docNumber}>{code}</Text>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n\r\n                {/* 2. Info Strip */}\r\n                <View style={styles.infoStrip}>\r\n                    <View style={styles.infoItem}>\r\n                        <Text style={styles.infoLabel}>FECHA EMISIÃ“N:</Text>\r\n                        <Text>{date}</Text>\r\n                    </View>\r\n                    <View style={styles.infoItem}>\r\n                        <Text style={styles.infoLabel}>MONEDA:</Text>\r\n                        <Text>{currency}</Text>\r\n                    </View>\r\n                </View>\r\n\r\n                {/* 1. Client Section */}\r\n                <Text style={styles.sectionHeader}>1. CLIENTE</Text>\r\n                <View style={styles.clientContainer}>\r\n                    <View style={styles.clientRow}>\r\n                        <Text style={styles.clientLabel}>RazÃ³n Social:</Text>\r\n                        <Text style={{ flex: 1 }}>{clientName}</Text>\r\n                    </View>\r\n                    {clientRuc && (\r\n                        <View style={styles.clientRow}>\r\n                            <Text style={styles.clientLabel}>RUC:</Text>\r\n                            <Text style={{ flex: 1 }}>{clientRuc}</Text>\r\n                        </View>\r\n                    )}\r\n                    {clientAddress && (\r\n                        <View style={styles.clientRow}>\r\n                            <Text style={styles.clientLabel}>DirecciÃ³n:</Text>\r\n                            <Text style={{ flex: 1 }}>{clientAddress}</Text>\r\n                        </View>\r\n                    )}\r\n                </View>\r\n\r\n                {/* 2. Service Description Section */}\r\n                {serviceDescription && (\r\n                    <View style={{ marginBottom: 10 }}>\r\n                        <Text style={styles.sectionHeader}>2. DESCRIPCIÃ“N DEL SERVICIO O PRODUCTO</Text>\r\n                        <View style={{ padding: 10, border: '1px solid #eee', borderRadius: 4 }}>\r\n                            <Text style={{ fontSize: 9, lineHeight: 1.4, color: '#444' }}>\r\n                                {serviceDescription}\r\n                            </Text>\r\n                        </View>\r\n                    </View>\r\n                )}\r\n\r\n                {/* 3. Details Section (Table) */}\r\n                <Text style={styles.sectionHeader}>3. DETALLES DEL PRESUPUESTO</Text>\r\n                <View style={styles.table}>\r\n                    {/* Header */}\r\n                    {/* Header */}\r\n                    {/* Header */}\r\n                    <View style={styles.tableHeader}>\r\n                        <Text style={[styles.th, styles.colCode]}>ITEM</Text>\r\n                        <Text style={[styles.th, styles.colDesc]}>DESCRIPCIÃ“N</Text>\r\n                        <Text style={[styles.th, styles.colQty]}>CANT</Text>\r\n                        <Text style={[styles.th, styles.colPrice]}>PRECIO.U</Text>\r\n                        <Text style={[styles.th, styles.colTotal]}>SUBTOTAL</Text>\r\n                    </View>\r\n\r\n                    {/* Body */}\r\n                    {items.map((item, index) => {\r\n                        const itemPrice = parseFloat(item.price || 0);\r\n                        const itemQty = parseFloat(item.quantity || 1);\r\n                        const itemSubtotal = itemPrice * itemQty;\r\n                        // Match the form price directly\r\n                        const itemPrecioU = itemPrice;\r\n\r\n                        return (\r\n                            <View key={index} style={styles.tableRow}>\r\n                                <Text style={[styles.colCode, { fontSize: 8 }]}>{index + 1}</Text>\r\n\r\n                                <View style={styles.colDesc}>\r\n                                    <View style={styles.descContainer}>\r\n                                        {/* Placeholder for item image if we ever implement it in data */}\r\n                                        {item.imageUrl && (\r\n                                            <Image src={item.imageUrl} style={styles.itemImage} />\r\n                                        )}\r\n                                        <View style={styles.itemTextContainer}>\r\n                                            <Text style={styles.itemTitle}>{item.name || item.description}</Text>\r\n                                            {item.details && item.details !== (item.name || item.description) && (\r\n                                                <Text style={styles.itemDescText}>{item.details}</Text>\r\n                                            )}\r\n                                        </View>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <Text style={[styles.colQty, { fontSize: 8 }]}>{itemQty.toFixed(2)}</Text>\r\n                                <Text style={[styles.colPrice, { fontSize: 8 }]}>S/ {itemPrecioU.toFixed(2)}</Text>\r\n                                <Text style={[styles.colTotal, { fontSize: 8 }]}>S/ {itemSubtotal.toFixed(2)}</Text>\r\n                            </View>\r\n                        );\r\n                    })}\r\n                </View>\r\n\r\n                {/* 5. Totals */}\r\n                <View style={styles.totalsContainer}>\r\n                    <View style={styles.totalRow}>\r\n                        <Text style={[styles.totalLabel, { fontSize: 8 }]}>Subtotal</Text>\r\n                        <Text style={[styles.totalValue, { fontSize: 8 }]}>S/ {subtotal.toFixed(2)}</Text>\r\n                    </View>\r\n                    <View style={styles.totalRow}>\r\n                        <Text style={[styles.totalLabel, { fontSize: 8 }]}>IGV (18%)</Text>\r\n                        <Text style={[styles.totalValue, { fontSize: 8 }]}>S/ {igv.toFixed(2)}</Text>\r\n                    </View>\r\n                    <View style={styles.totalRowFinal}>\r\n                        <Text style={[styles.totalLabel, { fontSize: 10 }]}>IMPORTE TOTAL</Text>\r\n                        <Text style={[styles.totalValue, { fontSize: 10, fontWeight: 'bold' }]}>S/ {total.toFixed(2)}</Text>\r\n                    </View>\r\n                </View>\r\n                <Text style={styles.totalAmountText}>\r\n                    Importe en letras: SON {numberToSpanishWords(Math.floor(total))} CON {Math.round((total % 1) * 100)}/100 SOLES\r\n                </Text>\r\n\r\n                {/* 6. Notes */}\r\n                <Text style={[styles.sectionHeader, { marginTop: 10 }]}>4. NOTAS</Text>\r\n                <View style={{ borderTopWidth: 1, borderTopColor: '#eee', paddingTop: 5 }}>\r\n                    <Text style={styles.notesText}>{notes}</Text>\r\n                </View>\r\n\r\n                {/* 7. Conditions */}\r\n                <Text style={styles.sectionHeader}>5. CONDICIONES DE PAGO</Text>\r\n                <View style={styles.paymentContainer}>\r\n                    <View style={styles.paymentRow}>\r\n                        <Text style={styles.paymentLabel}>CUENTAS BANCARIAS:</Text>\r\n                        <View style={{ flex: 1 }}>\r\n                            {/* If dynamic accounts exist, render them. Else fallback to placeholders but usually empty */}\r\n                            {company.accounts && company.accounts.length > 0 ? (\r\n                                company.accounts.map((acc, i) => (\r\n                                    <View key={i} style={{ marginBottom: 4 }}>\r\n                                        <Text style={[styles.paymentVal, { fontWeight: 'bold' }]}>{acc.bankName} - Cuenta Corriente - Soles</Text>\r\n                                        <Text style={styles.paymentVal}>NÂº: {acc.accountNumber}</Text>\r\n                                        {acc.cci && <Text style={styles.paymentVal}>CCI: {acc.cci}</Text>}\r\n                                    </View>\r\n                                ))\r\n                            ) : (\r\n                                <Text style={styles.paymentVal}>No hay cuentas configuradas.</Text>\r\n                            )}\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n            </Page>\r\n        </Document>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1220, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/components/ProtectedRoute.js"],"sourcesContent":["'use client';\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nexport function ProtectedRoute({ children }) {\r\n    const { user, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user) {\r\n            router.push('/login');\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                minHeight: '100vh',\r\n                background: '#fafafa'\r\n            }}>\r\n                <p style={{ fontSize: '1.1rem', color: '#667085' }}>Cargando...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKO,SAAS,eAAe,EAAE,QAAQ,EAAE;IACvC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACN,IAAI,CAAC,WAAW,CAAC,MAAM;YACnB,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACT,qBACI,8OAAC;YAAI,OAAO;gBACR,SAAS;gBACT,gBAAgB;gBAChB,YAAY;gBACZ,WAAW;gBACX,YAAY;YAChB;sBACI,cAAA,8OAAC;gBAAE,OAAO;oBAAE,UAAU;oBAAU,OAAO;gBAAU;0BAAG;;;;;;;;;;;IAGhE;IAEA,IAAI,CAAC,MAAM;QACP,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd"}},
    {"offset": {"line": 1282, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/components/UserSidebar.js"],"sourcesContent":["'use client';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function UserSidebar({ activeUsers = [] }) {\r\n    const { user, signOut } = useAuth();\r\n    const router = useRouter();\r\n\r\n    const handleSignOut = async () => {\r\n        await signOut();\r\n        router.push('/login');\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    // Filter out current user from active users\r\n    const otherUsers = activeUsers?.filter(u => u.uid !== user?.uid) || [];\r\n    const uniqueUsers = Array.from(new Map(otherUsers.map(u => [u.uid, u])).values());\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            left: 0,\r\n            top: 0,\r\n            bottom: 0,\r\n            width: '80px',\r\n            background: 'linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%)',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            padding: '1.5rem 0',\r\n            gap: '1.5rem',\r\n            zIndex: 100,\r\n            borderRight: '1px solid #e2e8f0',\r\n            boxShadow: '2px 0 8px rgba(0,0,0,0.05)',\r\n            transition: 'width 0.3s ease'\r\n        }}>\r\n            {/* Current User Profile */}\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                gap: '0.5rem',\r\n                paddingBottom: '1.5rem',\r\n                borderBottom: '1px solid #e2e8f0',\r\n                width: '100%'\r\n            }}>\r\n                <div style={{ position: 'relative' }}>\r\n                    {user.photoURL ? (\r\n                        <img\r\n                            src={user.photoURL}\r\n                            alt={user.displayName || user.firstName || 'User'}\r\n                            style={{\r\n                                width: '48px',\r\n                                height: '48px',\r\n                                borderRadius: '50%',\r\n                                border: '2px solid #10b981',\r\n                                boxShadow: '0 4px 8px rgba(16, 185, 129, 0.3)'\r\n                            }}\r\n                            title={`${user.displayName || user.firstName || 'Usuario'}\\n${user.email}`}\r\n                        />\r\n                    ) : (\r\n                        <div style={{\r\n                            width: '48px',\r\n                            height: '48px',\r\n                            borderRadius: '50%',\r\n                            border: '2px solid #10b981',\r\n                            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            color: '#ffffff',\r\n                            fontSize: '1.25rem',\r\n                            fontWeight: '700',\r\n                            boxShadow: '0 4px 8px rgba(16, 185, 129, 0.3)'\r\n                        }}\r\n                            title={`${user.displayName || user.firstName || 'Usuario'}\\n${user.email}`}\r\n                        >\r\n                            {(user.displayName || user.firstName || user.email || '?')[0].toUpperCase()}\r\n                        </div>\r\n                    )}\r\n                    {/* Online indicator */}\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        bottom: '-2px',\r\n                        right: '-2px',\r\n                        width: '14px',\r\n                        height: '14px',\r\n                        borderRadius: '50%',\r\n                        background: '#10b981',\r\n                        border: '2px solid #f8fafc',\r\n                        boxShadow: '0 0 8px rgba(16, 185, 129, 0.6)'\r\n                    }} />\r\n                </div>\r\n                <span style={{\r\n                    fontSize: '0.65rem',\r\n                    color: '#64748b',\r\n                    fontWeight: '500',\r\n                    textAlign: 'center',\r\n                    maxWidth: '60px',\r\n                    overflow: 'hidden',\r\n                    textOverflow: 'ellipsis',\r\n                    whiteSpace: 'nowrap'\r\n                }}>\r\n                    TÃº\r\n                </span>\r\n            </div>\r\n\r\n            {/* Active Users */}\r\n            {uniqueUsers.length > 0 && (\r\n                <div style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    gap: '1rem',\r\n                    width: '100%',\r\n                    flex: 1,\r\n                    overflowY: 'auto',\r\n                    paddingBottom: '1rem'\r\n                }}>\r\n                    <div style={{\r\n                        fontSize: '0.65rem',\r\n                        color: '#64748b',\r\n                        fontWeight: '600',\r\n                        textTransform: 'uppercase',\r\n                        letterSpacing: '0.05em',\r\n                        textAlign: 'center'\r\n                    }}>\r\n                        Editando\r\n                    </div>\r\n                    {uniqueUsers.map((activeUser, index) => (\r\n                        <div\r\n                            key={`sidebar-user-${activeUser.uid}-${index}`}\r\n                            style={{\r\n                                position: 'relative',\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                alignItems: 'center',\r\n                                gap: '0.25rem'\r\n                            }}\r\n                        >\r\n                            {activeUser.photoURL ? (\r\n                                <img\r\n                                    src={activeUser.photoURL}\r\n                                    alt={activeUser.displayName || activeUser.firstName || 'User'}\r\n                                    style={{\r\n                                        width: '40px',\r\n                                        height: '40px',\r\n                                        borderRadius: '50%',\r\n                                        border: '2px solid #667eea',\r\n                                        boxShadow: '0 2px 6px rgba(102, 126, 234, 0.3)'\r\n                                    }}\r\n                                    title={activeUser.displayName || activeUser.firstName || activeUser.email}\r\n                                />\r\n                            ) : (\r\n                                <div style={{\r\n                                    width: '40px',\r\n                                    height: '40px',\r\n                                    borderRadius: '50%',\r\n                                    border: '2px solid #667eea',\r\n                                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                    color: '#ffffff',\r\n                                    fontSize: '1rem',\r\n                                    fontWeight: '600',\r\n                                    boxShadow: '0 2px 6px rgba(102, 126, 234, 0.3)'\r\n                                }}\r\n                                    title={activeUser.displayName || activeUser.firstName || activeUser.email}\r\n                                >\r\n                                    {(activeUser.displayName || activeUser.firstName || activeUser.email || '?')[0].toUpperCase()}\r\n                                </div>\r\n                            )}\r\n                            {/* Online indicator */}\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                bottom: '18px',\r\n                                right: '8px',\r\n                                width: '10px',\r\n                                height: '10px',\r\n                                borderRadius: '50%',\r\n                                background: '#667eea',\r\n                                border: '2px solid #f8fafc',\r\n                                boxShadow: '0 0 6px rgba(102, 126, 234, 0.6)'\r\n                            }} />\r\n                            <span style={{\r\n                                fontSize: '0.6rem',\r\n                                color: '#64748b',\r\n                                fontWeight: '500',\r\n                                textAlign: 'center',\r\n                                maxWidth: '60px',\r\n                                overflow: 'hidden',\r\n                                textOverflow: 'ellipsis',\r\n                                whiteSpace: 'nowrap'\r\n                            }}>\r\n                                {(activeUser.displayName || activeUser.firstName || activeUser.email?.split('@')[0] || '').substring(0, 8)}\r\n                            </span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Logout Button */}\r\n            <button\r\n                onClick={handleSignOut}\r\n                style={{\r\n                    width: '48px',\r\n                    height: '48px',\r\n                    borderRadius: '12px',\r\n                    background: 'rgba(239, 68, 68, 0.1)',\r\n                    border: '1px solid rgba(239, 68, 68, 0.2)',\r\n                    color: '#ef4444',\r\n                    cursor: 'pointer',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    fontSize: '1.25rem',\r\n                    transition: 'all 0.2s',\r\n                    marginTop: 'auto'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                    e.currentTarget.style.background = '#ef4444';\r\n                    e.currentTarget.style.color = '#ffffff';\r\n                    e.currentTarget.style.borderColor = '#ef4444';\r\n                }}\r\n                onMouseOut={(e) => {\r\n                    e.currentTarget.style.background = 'rgba(239, 68, 68, 0.1)';\r\n                    e.currentTarget.style.color = '#ef4444';\r\n                    e.currentTarget.style.borderColor = 'rgba(239, 68, 68, 0.2)';\r\n                }}\r\n                title=\"Cerrar SesiÃ³n\"\r\n            >\r\n                ðŸšª\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIO,SAAS,YAAY,EAAE,cAAc,EAAE,EAAE;IAC5C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,yIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,gBAAgB;QAClB,MAAM;QACN,OAAO,IAAI,CAAC;IAChB;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,4CAA4C;IAC5C,MAAM,aAAa,aAAa,OAAO,CAAA,IAAK,EAAE,GAAG,KAAK,MAAM,QAAQ,EAAE;IACtE,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,IAAI,WAAW,GAAG,CAAC,CAAA,IAAK;YAAC,EAAE,GAAG;YAAE;SAAE,GAAG,MAAM;IAE9E,qBACI,8OAAC;QAAI,OAAO;YACR,UAAU;YACV,MAAM;YACN,KAAK;YACL,QAAQ;YACR,OAAO;YACP,YAAY;YACZ,SAAS;YACT,eAAe;YACf,YAAY;YACZ,SAAS;YACT,KAAK;YACL,QAAQ;YACR,aAAa;YACb,WAAW;YACX,YAAY;QAChB;;0BAEI,8OAAC;gBAAI,OAAO;oBACR,SAAS;oBACT,eAAe;oBACf,YAAY;oBACZ,KAAK;oBACL,eAAe;oBACf,cAAc;oBACd,OAAO;gBACX;;kCACI,8OAAC;wBAAI,OAAO;4BAAE,UAAU;wBAAW;;4BAC9B,KAAK,QAAQ,iBACV,8OAAC;gCACG,KAAK,KAAK,QAAQ;gCAClB,KAAK,KAAK,WAAW,IAAI,KAAK,SAAS,IAAI;gCAC3C,OAAO;oCACH,OAAO;oCACP,QAAQ;oCACR,cAAc;oCACd,QAAQ;oCACR,WAAW;gCACf;gCACA,OAAO,GAAG,KAAK,WAAW,IAAI,KAAK,SAAS,IAAI,UAAU,EAAE,EAAE,KAAK,KAAK,EAAE;;;;;qDAG9E,8OAAC;gCAAI,OAAO;oCACR,OAAO;oCACP,QAAQ;oCACR,cAAc;oCACd,QAAQ;oCACR,YAAY;oCACZ,SAAS;oCACT,YAAY;oCACZ,gBAAgB;oCAChB,OAAO;oCACP,UAAU;oCACV,YAAY;oCACZ,WAAW;gCACf;gCACI,OAAO,GAAG,KAAK,WAAW,IAAI,KAAK,SAAS,IAAI,UAAU,EAAE,EAAE,KAAK,KAAK,EAAE;0CAEzE,CAAC,KAAK,WAAW,IAAI,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,WAAW;;;;;;0CAIjF,8OAAC;gCAAI,OAAO;oCACR,UAAU;oCACV,QAAQ;oCACR,OAAO;oCACP,OAAO;oCACP,QAAQ;oCACR,cAAc;oCACd,YAAY;oCACZ,QAAQ;oCACR,WAAW;gCACf;;;;;;;;;;;;kCAEJ,8OAAC;wBAAK,OAAO;4BACT,UAAU;4BACV,OAAO;4BACP,YAAY;4BACZ,WAAW;4BACX,UAAU;4BACV,UAAU;4BACV,cAAc;4BACd,YAAY;wBAChB;kCAAG;;;;;;;;;;;;YAMN,YAAY,MAAM,GAAG,mBAClB,8OAAC;gBAAI,OAAO;oBACR,SAAS;oBACT,eAAe;oBACf,YAAY;oBACZ,KAAK;oBACL,OAAO;oBACP,MAAM;oBACN,WAAW;oBACX,eAAe;gBACnB;;kCACI,8OAAC;wBAAI,OAAO;4BACR,UAAU;4BACV,OAAO;4BACP,YAAY;4BACZ,eAAe;4BACf,eAAe;4BACf,WAAW;wBACf;kCAAG;;;;;;oBAGF,YAAY,GAAG,CAAC,CAAC,YAAY,sBAC1B,8OAAC;4BAEG,OAAO;gCACH,UAAU;gCACV,SAAS;gCACT,eAAe;gCACf,YAAY;gCACZ,KAAK;4BACT;;gCAEC,WAAW,QAAQ,iBAChB,8OAAC;oCACG,KAAK,WAAW,QAAQ;oCACxB,KAAK,WAAW,WAAW,IAAI,WAAW,SAAS,IAAI;oCACvD,OAAO;wCACH,OAAO;wCACP,QAAQ;wCACR,cAAc;wCACd,QAAQ;wCACR,WAAW;oCACf;oCACA,OAAO,WAAW,WAAW,IAAI,WAAW,SAAS,IAAI,WAAW,KAAK;;;;;yDAG7E,8OAAC;oCAAI,OAAO;wCACR,OAAO;wCACP,QAAQ;wCACR,cAAc;wCACd,QAAQ;wCACR,YAAY;wCACZ,SAAS;wCACT,YAAY;wCACZ,gBAAgB;wCAChB,OAAO;wCACP,UAAU;wCACV,YAAY;wCACZ,WAAW;oCACf;oCACI,OAAO,WAAW,WAAW,IAAI,WAAW,SAAS,IAAI,WAAW,KAAK;8CAExE,CAAC,WAAW,WAAW,IAAI,WAAW,SAAS,IAAI,WAAW,KAAK,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,WAAW;;;;;;8CAInG,8OAAC;oCAAI,OAAO;wCACR,UAAU;wCACV,QAAQ;wCACR,OAAO;wCACP,OAAO;wCACP,QAAQ;wCACR,cAAc;wCACd,YAAY;wCACZ,QAAQ;wCACR,WAAW;oCACf;;;;;;8CACA,8OAAC;oCAAK,OAAO;wCACT,UAAU;wCACV,OAAO;wCACP,YAAY;wCACZ,WAAW;wCACX,UAAU;wCACV,UAAU;wCACV,cAAc;wCACd,YAAY;oCAChB;8CACK,CAAC,WAAW,WAAW,IAAI,WAAW,SAAS,IAAI,WAAW,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,SAAS,CAAC,GAAG;;;;;;;2BAhEvG,CAAC,aAAa,EAAE,WAAW,GAAG,CAAC,CAAC,EAAE,OAAO;;;;;;;;;;;0BAwE9D,8OAAC;gBACG,SAAS;gBACT,OAAO;oBACH,OAAO;oBACP,QAAQ;oBACR,cAAc;oBACd,YAAY;oBACZ,QAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,SAAS;oBACT,YAAY;oBACZ,gBAAgB;oBAChB,UAAU;oBACV,YAAY;oBACZ,WAAW;gBACf;gBACA,aAAa,CAAC;oBACV,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;oBACnC,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;oBAC9B,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,GAAG;gBACxC;gBACA,YAAY,CAAC;oBACT,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;oBACnC,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;oBAC9B,EAAE,aAAa,CAAC,KAAK,CAAC,WAAW,GAAG;gBACxC;gBACA,OAAM;0BACT;;;;;;;;;;;;AAKb"}},
    {"offset": {"line": 1679, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/lib/firestoreClient.js"],"sourcesContent":["// Firestore Client for Browser (Realtime Listeners)\r\nimport { initializeApp, getApps } from 'firebase/app';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || 'web-cot-aya',\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET || 'web-cot-aya.firebasestorage.app',\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase for client-side Firestore\r\nlet clientApp;\r\nlet clientDb;\r\n\r\nif (typeof window !== 'undefined') {\r\n    clientApp = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];\r\n    clientDb = getFirestore(clientApp);\r\n} else {\r\n    clientApp = null;\r\n    clientDb = null;\r\n}\r\n\r\nexport { clientDb };\r\nexport default clientApp;\r\n"],"names":[],"mappings":";;;;;;AAAA,oDAAoD;AACpD;AACA;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,WAAW,mDAA+C;IAC1D,eAAe,uEAAmD;IAClE,iBAAiB;IACjB,KAAK;AACT;AAEA,gDAAgD;AAChD,IAAI;AACJ,IAAI;AAEJ;;KAGO;IACH,YAAY;IACZ,WAAW;AACf;;uCAGe"}},
    {"offset": {"line": 1713, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/hooks/useRealtimeQuotation.js"],"sourcesContent":["'use client';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { doc, onSnapshot, updateDoc, setDoc, collection, addDoc, deleteDoc, serverTimestamp } from 'firebase/firestore';\r\nimport { clientDb } from '@/lib/firestoreClient';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nexport function useRealtimeQuotation(quotationId) {\r\n    const [quotation, setQuotation] = useState(null);\r\n    const [activeUsers, setActiveUsers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const { user } = useAuth();\r\n\r\n    useEffect(() => {\r\n        if (!quotationId || !clientDb) return;\r\n\r\n        // Listen to quotation changes\r\n        const quotationRef = doc(clientDb, 'quotations', quotationId);\r\n        const unsubscribeQuotation = onSnapshot(\r\n            quotationRef,\r\n            (snapshot) => {\r\n                if (snapshot.exists()) {\r\n                    setQuotation({ id: snapshot.id, ...snapshot.data() });\r\n                    setError(null);\r\n                } else {\r\n                    setError('Quotation not found');\r\n                }\r\n                setLoading(false);\r\n            },\r\n            (err) => {\r\n                console.error('Error listening to quotation:', err);\r\n                setError(err.message);\r\n                setLoading(false);\r\n            }\r\n        );\r\n\r\n        // Listen to active users\r\n        const activeUsersRef = collection(clientDb, 'quotations', quotationId, 'activeUsers');\r\n        const unsubscribeUsers = onSnapshot(activeUsersRef, (snapshot) => {\r\n            const users = snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            setActiveUsers(users);\r\n        });\r\n\r\n        // Add current user to active users with proper cleanup\r\n        let userDocRef;\r\n        let heartbeatInterval;\r\n        let isCleanedUp = false;\r\n\r\n        if (user) {\r\n            addDoc(activeUsersRef, {\r\n                uid: user.uid,\r\n                displayName: user.displayName || user.email,\r\n                firstName: user.firstName,\r\n                photoURL: user.photoURL,\r\n                email: user.email,\r\n                joinedAt: serverTimestamp(),\r\n                lastSeen: serverTimestamp()\r\n            }).then(docRef => {\r\n                userDocRef = docRef;\r\n\r\n                // Heartbeat to update lastSeen\r\n                heartbeatInterval = setInterval(() => {\r\n                    if (userDocRef && !isCleanedUp) {\r\n                        setDoc(userDocRef, {\r\n                            lastSeen: serverTimestamp()\r\n                        }, { merge: true }).catch(err => {\r\n                            // Silently ignore if document doesn't exist (user left)\r\n                            if (err.code !== 'not-found') {\r\n                                console.error('Heartbeat error:', err);\r\n                            }\r\n                        });\r\n                    }\r\n                }, 30000); // Every 30 seconds\r\n            }).catch(err => {\r\n                console.error('Error adding user to active users:', err);\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            isCleanedUp = true;\r\n            unsubscribeQuotation();\r\n            unsubscribeUsers();\r\n            if (heartbeatInterval) {\r\n                clearInterval(heartbeatInterval);\r\n            }\r\n            if (userDocRef) {\r\n                deleteDoc(userDocRef).catch(err => {\r\n                    // Silently ignore if document doesn't exist\r\n                    if (err.code !== 'not-found') {\r\n                        console.error('Error removing user:', err);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }, [quotationId, user]);\r\n\r\n    const updateQuotation = async (updates) => {\r\n        if (!quotationId || !clientDb) return;\r\n\r\n        try {\r\n            const quotationRef = doc(clientDb, 'quotations', quotationId);\r\n            await updateDoc(quotationRef, {\r\n                ...updates,\r\n                updatedAt: new Date().toISOString()\r\n            });\r\n        } catch (err) {\r\n            console.error('Error updating quotation:', err);\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    return {\r\n        quotation,\r\n        activeUsers,\r\n        loading,\r\n        error,\r\n        updateQuotation\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1843, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/app/quotations/%5Bid%5D/page.js"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport dynamic from 'next/dynamic';\r\nimport { QuotationDocument } from '@/components/QuotationDocument';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { ProtectedRoute } from '@/components/ProtectedRoute';\r\nimport { UserSidebar } from '@/components/UserSidebar';\r\nimport { useRealtimeQuotation } from '@/hooks/useRealtimeQuotation';\r\n\r\n// Import PDFViewer dynamically to avoid SSR issues\r\nconst PDFViewer = dynamic(\r\n    () => import('@react-pdf/renderer').then((mod) => mod.PDFViewer),\r\n    { ssr: false, loading: () => <p>Cargando previsualizaciÃ³n...</p> }\r\n);\r\n\r\nexport default function QuotationEditor() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const { id } = params;\r\n    const { user } = useAuth();\r\n\r\n    // Use Firestore realtime hook\r\n    const { quotation, activeUsers: realtimeUsers, loading, error, updateQuotation } = useRealtimeQuotation(id);\r\n\r\n    const [data, setData] = useState({\r\n        clientName: '',\r\n        clientRuc: '',\r\n        clientAddress: '',\r\n        code: '',\r\n        items: [{ description: 'Servicio Ejemplo', quantity: 1, price: 100 }],\r\n        globalProfitPercentage: '',\r\n        globalOtherCosts: ''\r\n    });\r\n    const [saving, setSaving] = useState(false);\r\n    const [autoSaving, setAutoSaving] = useState(false);\r\n    const [activeUsers, setActiveUsers] = useState([]);\r\n    const [remoteFocus, setRemoteFocus] = useState({}); // { fieldName: userObject }\r\n    const isRemoteUpdate = useRef(false);\r\n\r\n    // Separate state for PDF to prevent constant re-rendering\r\n    const [pdfData, setPdfData] = useState(data);\r\n    const pdfUpdateTimeout = useRef(null);\r\n\r\n    // Update local data when Firestore quotation changes\r\n    useEffect(() => {\r\n        if (quotation) {\r\n            isRemoteUpdate.current = true;\r\n            setData({\r\n                ...quotation,\r\n                clientName: quotation.clientName || '',\r\n                clientRuc: quotation.clientRuc || '',\r\n                clientAddress: quotation.clientAddress || '',\r\n                items: quotation.items && quotation.items.length > 0 ? quotation.items : [{ description: '', quantity: 1, price: 0 }],\r\n                globalProfitPercentage: quotation.globalProfitPercentage || '',\r\n                globalOtherCosts: quotation.globalOtherCosts || ''\r\n            });\r\n        }\r\n    }, [quotation]);\r\n\r\n    // Update active users from Firestore\r\n    useEffect(() => {\r\n        if (realtimeUsers) {\r\n            setActiveUsers(realtimeUsers);\r\n        }\r\n    }, [realtimeUsers]);\r\n\r\n    // Debounce PDF updates to prevent flickering\r\n    useEffect(() => {\r\n        // Clear existing timeout\r\n        if (pdfUpdateTimeout.current) {\r\n            clearTimeout(pdfUpdateTimeout.current);\r\n        }\r\n\r\n        // Set new timeout to update PDF after 1 second of no changes\r\n        pdfUpdateTimeout.current = setTimeout(() => {\r\n            setPdfData(data);\r\n        }, 1000);\r\n\r\n        // Cleanup on unmount\r\n        return () => {\r\n            if (pdfUpdateTimeout.current) {\r\n                clearTimeout(pdfUpdateTimeout.current);\r\n            }\r\n        };\r\n    }, [data]);\r\n\r\n    const handleFocus = (field) => {\r\n        // Focus tracking removed - not needed with Firestore\r\n    };\r\n\r\n    const handleBlur = (field) => {\r\n        // Blur tracking removed - not needed with Firestore\r\n    };\r\n\r\n    const getInputStyle = (field, baseStyle = {}) => {\r\n        const focusUser = remoteFocus[field];\r\n        if (focusUser) {\r\n            return {\r\n                ...baseStyle,\r\n                borderColor: focusUser.color || '#3b82f6',\r\n                boxShadow: `0 0 0 2px ${(focusUser.color || '#3b82f6')}20`, // 20 hex = 12% opacity\r\n                transition: 'all 0.2s',\r\n                position: 'relative'\r\n            };\r\n        }\r\n        return {\r\n            ...baseStyle,\r\n            width: '100%',\r\n            padding: '0.75rem',\r\n            borderRadius: '6px',\r\n            border: '1px solid #ccc'\r\n        };\r\n    };\r\n\r\n    const renderRemoteCursorLabel = (field) => {\r\n        const focusUser = remoteFocus[field];\r\n        if (focusUser) {\r\n            return (\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    top: '-18px',\r\n                    right: '0',\r\n                    background: focusUser.color || '#3b82f6',\r\n                    color: 'white',\r\n                    fontSize: '0.65rem',\r\n                    padding: '2px 6px',\r\n                    borderRadius: '4px 4px 0 0',\r\n                    zIndex: 10\r\n                }}>\r\n                    {focusUser.firstName}\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const handleChange = async (field, value) => {\r\n        const newData = { ...data, [field]: value };\r\n        setData(newData);\r\n\r\n        // Update Firestore directly with auto-save indicator\r\n        if (id && updateQuotation) {\r\n            try {\r\n                setAutoSaving(true);\r\n                await updateQuotation({ [field]: value });\r\n                setAutoSaving(false);\r\n            } catch (err) {\r\n                console.error('Error updating quotation:', err);\r\n                setAutoSaving(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleClientProfileChange = async (clientProfileId) => {\r\n        const selectedClient = data.clientProfiles?.find(p => p.id === parseInt(clientProfileId));\r\n        const newData = {\r\n            ...data,\r\n            clientProfileId: clientProfileId ? parseInt(clientProfileId) : null,\r\n            clientName: selectedClient ? selectedClient.name || '' : '',\r\n            clientRuc: selectedClient ? selectedClient.ruc || '' : '',\r\n            clientAddress: selectedClient ? selectedClient.address || '' : ''\r\n        };\r\n        setData(newData);\r\n\r\n        // Update Firestore directly\r\n        if (id && updateQuotation) {\r\n            try {\r\n                await updateQuotation({\r\n                    clientProfileId: newData.clientProfileId,\r\n                    clientName: newData.clientName,\r\n                    clientRuc: newData.clientRuc,\r\n                    clientAddress: newData.clientAddress\r\n                });\r\n            } catch (err) {\r\n                console.error('Error updating client profile:', err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleItemChange = async (index, field, value) => {\r\n        const newItems = [...data.items];\r\n        newItems[index][field] = value;\r\n        const newData = { ...data, items: newItems };\r\n        setData(newData);\r\n\r\n        // Update Firestore directly with auto-save indicator\r\n        if (id && updateQuotation) {\r\n            try {\r\n                setAutoSaving(true);\r\n                await updateQuotation({ items: newItems });\r\n                setAutoSaving(false);\r\n            } catch (err) {\r\n                console.error('Error updating items:', err);\r\n                setAutoSaving(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const addItem = async () => {\r\n        const newItems = [...data.items, { description: '', quantity: 1, price: 0 }];\r\n        const newData = { ...data, items: newItems };\r\n        setData(newData);\r\n\r\n        // Update Firestore directly\r\n        if (id && updateQuotation) {\r\n            try {\r\n                await updateQuotation({ items: newItems });\r\n            } catch (err) {\r\n                console.error('Error adding item:', err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const saveQuotation = async () => {\r\n        setSaving(true);\r\n        try {\r\n            // Use Firestore updateQuotation instead of API\r\n            if (updateQuotation) {\r\n                await updateQuotation(data);\r\n            }\r\n            setSaving(false);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setSaving(false);\r\n        }\r\n    }\r\n\r\n    const total = data.items ? data.items.reduce((acc, item) => acc + (item.quantity * item.price), 0) : 0;\r\n\r\n    // Find the selected company profile data\r\n    const selectedCompany = data.companyProfiles?.find(p => p.id === data.companyProfileId) ||\r\n        data.companyProfiles?.find(p => p.isDefault) || {};\r\n\r\n    // Use pdfData for PDF rendering to prevent flickering\r\n    const pdfTotal = pdfData.items ? pdfData.items.reduce((acc, item) => acc + (item.quantity * item.price), 0) : 0;\r\n    const pdfSelectedCompany = pdfData.companyProfiles?.find(p => p.id === pdfData.companyProfileId) ||\r\n        pdfData.companyProfiles?.find(p => p.isDefault) || {};\r\n\r\n    const dataForPdf = {\r\n        ...pdfData,\r\n        total: pdfTotal,\r\n        company: pdfSelectedCompany,\r\n        notes: pdfData.notes !== undefined ? pdfData.notes : (pdfData.generalConditions?.text || '')\r\n    };\r\n\r\n    return (\r\n        <ProtectedRoute>\r\n            <UserSidebar activeUsers={activeUsers} />\r\n            <div style={{ display: 'flex', height: '100vh', overflow: 'hidden', marginLeft: '80px' }}>\r\n                {/* Left: Editor Form */}\r\n                <div style={{ width: '50%', padding: '2rem', overflowY: 'auto', borderRight: '1px solid #e2e8f0', backgroundColor: '#f8fafc' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\r\n                        <h1 style={{ color: '#1e293b' }}>Editor de CotizaciÃ³n</h1>\r\n                        <div style={{ display: 'flex', gap: '15px', alignItems: 'center' }}>\r\n                            <button className=\"btn\" style={{ background: '#64748b', color: 'white' }} onClick={() => router.push('/')}>\r\n                                â† MenÃº Principal\r\n                            </button>\r\n                            <span style={{ fontSize: '0.8rem', color: autoSaving ? '#f59e0b' : '#22c55e', display: 'flex', alignItems: 'center', gap: '4px' }}>\r\n                                <span style={{ width: '8px', height: '8px', borderRadius: '50%', background: autoSaving ? '#f59e0b' : '#22c55e' }}></span>\r\n                                {autoSaving ? 'Guardando...' : 'Guardado'}\r\n                            </span>\r\n                            <button className=\"btn btn-primary\" onClick={saveQuotation} disabled={saving}>\r\n                                {saving ? 'Guardando...' : 'Guardar Cambios'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"card-editor\" style={{ marginBottom: '1.5rem', position: 'relative' }}>\r\n                        <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>Empresa Emisora</label>\r\n                        {renderRemoteCursorLabel('companyProfileId')}\r\n                        <select\r\n                            value={data.companyProfileId || ''}\r\n                            onChange={(e) => handleChange('companyProfileId', parseInt(e.target.value))}\r\n                            onFocus={() => handleFocus('companyProfileId')}\r\n                            onBlur={() => handleBlur('companyProfileId')}\r\n                            style={getInputStyle('companyProfileId')}\r\n                        >\r\n                            <option value=\"\">Seleccionar Empresa...</option>\r\n                            {data.companyProfiles && data.companyProfiles.map(p => (\r\n                                <option key={p.id} value={p.id}>{p.name} {p.isDefault ? '(Predeterminada)' : ''}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"card-editor\" style={{ marginBottom: '1.5rem', position: 'relative' }}>\r\n                        <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>Perfil de Cliente</label>\r\n                        {renderRemoteCursorLabel('clientProfileId')}\r\n                        <select\r\n                            value={data.clientProfileId || ''}\r\n                            onChange={(e) => handleClientProfileChange(e.target.value)}\r\n                            onFocus={() => handleFocus('clientProfileId')}\r\n                            onBlur={() => handleBlur('clientProfileId')}\r\n                            style={getInputStyle('clientProfileId')}\r\n                        >\r\n                            <option value=\"\">Seleccionar Cliente...</option>\r\n                            {data.clientProfiles && data.clientProfiles.map(p => (\r\n                                <option key={p.id} value={p.id}>{p.name} {p.isDefault ? '(Predeterminado)' : ''}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"card-editor\" style={{ marginBottom: '2rem' }}>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '1rem' }}>\r\n                            <div style={{ position: 'relative' }}>\r\n                                <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>Nombre de Cliente</label>\r\n                                {renderRemoteCursorLabel('clientName')}\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={data.clientName || ''}\r\n                                    onChange={(e) => handleChange('clientName', e.target.value)}\r\n                                    onFocus={() => handleFocus('clientName')}\r\n                                    onBlur={() => handleBlur('clientName')}\r\n                                    style={getInputStyle('clientName')}\r\n                                    placeholder=\"Juan PÃ©rez\"\r\n                                />\r\n                            </div>\r\n                            <div style={{ position: 'relative' }}>\r\n                                <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>RUC</label>\r\n                                {renderRemoteCursorLabel('clientRuc')}\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={data.clientRuc || ''}\r\n                                    onChange={(e) => handleChange('clientRuc', e.target.value)}\r\n                                    onFocus={() => handleFocus('clientRuc')}\r\n                                    onBlur={() => handleBlur('clientRuc')}\r\n                                    style={getInputStyle('clientRuc')}\r\n                                    placeholder=\"12345678901\"\r\n                                />\r\n                            </div>\r\n                            <div style={{ position: 'relative' }}>\r\n                                <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>DirecciÃ³n</label>\r\n                                {renderRemoteCursorLabel('clientAddress')}\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={data.clientAddress || ''}\r\n                                    onChange={(e) => handleChange('clientAddress', e.target.value)}\r\n                                    onFocus={() => handleFocus('clientAddress')}\r\n                                    onBlur={() => handleBlur('clientAddress')}\r\n                                    style={getInputStyle('clientAddress')}\r\n                                    placeholder=\"Calle Falsa 123\"\r\n                                />\r\n                            </div>\r\n                            <div style={{ gridColumn: 'span 3', marginTop: '1rem', position: 'relative' }}>\r\n                                <label style={{ display: 'block', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>2. DescripciÃ³n del Servicio o Producto</label>\r\n                                {renderRemoteCursorLabel('serviceDescription')}\r\n                                <textarea\r\n                                    value={data.serviceDescription || ''}\r\n                                    onChange={(e) => handleChange('serviceDescription', e.target.value)}\r\n                                    onFocus={() => handleFocus('serviceDescription')}\r\n                                    onBlur={() => handleBlur('serviceDescription')}\r\n                                    style={getInputStyle('serviceDescription', { minHeight: '80px' })}\r\n                                    placeholder=\"Describa brevemente el servicio o producto a cotizar...\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <h3 style={{ color: '#1e293b' }}>ConfiguraciÃ³n Global de Precios (Interno)</h3>\r\n                    <div className=\"card-editor\" style={{ marginBottom: '2rem', backgroundColor: '#fff', border: '1px solid #e2e8f0' }}>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '1rem', alignItems: 'flex-end' }}>\r\n                            <div style={{ position: 'relative' }}>\r\n                                <label style={{ display: 'block', fontSize: '0.8rem', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>% Ganancia Global</label>\r\n                                {renderRemoteCursorLabel('globalProfitPercentage')}\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={data.globalProfitPercentage || ''}\r\n                                    onChange={(e) => handleChange('globalProfitPercentage', e.target.value)}\r\n                                    onFocus={() => handleFocus('globalProfitPercentage')}\r\n                                    onBlur={() => handleBlur('globalProfitPercentage')}\r\n                                    style={getInputStyle('globalProfitPercentage')}\r\n                                    placeholder=\"0\"\r\n                                />\r\n                            </div>\r\n                            <div style={{ position: 'relative' }}>\r\n                                <label style={{ display: 'block', fontSize: '0.8rem', fontWeight: 'bold', marginBottom: '0.5rem', color: '#1e293b' }}>% Otros Global</label>\r\n                                {renderRemoteCursorLabel('globalOtherCosts')}\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={data.globalOtherCosts || ''}\r\n                                    onChange={(e) => handleChange('globalOtherCosts', e.target.value)}\r\n                                    onFocus={() => handleFocus('globalOtherCosts')}\r\n                                    onBlur={() => handleBlur('globalOtherCosts')}\r\n                                    style={getInputStyle('globalOtherCosts')}\r\n                                    placeholder=\"0\"\r\n                                />\r\n                            </div>\r\n                            <button\r\n                                className=\"btn\"\r\n                                style={{ background: '#334155', color: 'white', padding: '0.75rem' }}\r\n                                onClick={() => {\r\n                                    const gp = parseFloat(data.globalProfitPercentage || 0);\r\n                                    const go = parseFloat(data.globalOtherCosts || 0);\r\n                                    const newItems = data.items.map(item => {\r\n                                        const bp = parseFloat(item.basePrice || 0);\r\n                                        const finalPrice = bp * (1 + (gp + go) / 100);\r\n                                        return {\r\n                                            ...item,\r\n                                            profitPercentage: data.globalProfitPercentage,\r\n                                            otherCosts: data.globalOtherCosts,\r\n                                            price: finalPrice.toFixed(2)\r\n                                        };\r\n                                    });\r\n                                    handleChange('items', newItems);\r\n                                }}\r\n                            >\r\n                                Aplicar a todos los Ã­tems\r\n                            </button>\r\n                        </div>\r\n                        <p style={{ fontSize: '0.7rem', color: '#64748b', marginTop: '0.75rem' }}>\r\n                            * Esto actualizarÃ¡ los porcentajes y recalcularÃ¡ el Precio U. de cada Ã­tem basado en su Costo Base.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <h3 style={{ color: '#1e293b' }}>Ãtems</h3>\r\n                    {data.items && data.items.map((item, index) => (\r\n                        <div key={index} className=\"card-editor\" style={{ marginBottom: '1rem', padding: '1.25rem' }}>\r\n                            <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr 1fr 1fr', gap: '0.75rem', marginBottom: '0.75rem' }}>\r\n                                <div style={{ gridColumn: 'span 5', position: 'relative' }}>\r\n                                    {renderRemoteCursorLabel(`item_${index}_description`)}\r\n                                    <input\r\n                                        placeholder=\"DescripciÃ³n del Ã­tem\"\r\n                                        style={getInputStyle(`item_${index}_description`, { width: '100%', padding: '0.5rem', borderRadius: '4px', border: '1px solid #ccc' })}\r\n                                        value={item.description}\r\n                                        onChange={(e) => handleItemChange(index, 'description', e.target.value)}\r\n                                        onFocus={() => handleFocus(`item_${index}_description`)}\r\n                                        onBlur={() => handleBlur(`item_${index}_description`)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <label style={{ fontSize: '0.7rem', color: '#334155', display: 'block', fontWeight: 'bold' }}>Cant.</label>\r\n                                    {renderRemoteCursorLabel(`item_${index}_quantity`)}\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        style={getInputStyle(`item_${index}_quantity`, { width: '100%', padding: '0.5rem', borderRadius: '4px', border: '1px solid #ccc' })}\r\n                                        value={item.quantity}\r\n                                        onChange={(e) => handleItemChange(index, 'quantity', e.target.value)}\r\n                                        onFocus={() => handleFocus(`item_${index}_quantity`)}\r\n                                        onBlur={() => handleBlur(`item_${index}_quantity`)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <label style={{ fontSize: '0.7rem', color: '#334155', display: 'block', fontWeight: 'bold' }}>Costo Base</label>\r\n                                    {renderRemoteCursorLabel(`item_${index}_basePrice`)}\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"0.00\"\r\n                                        style={getInputStyle(`item_${index}_basePrice`, { width: '100%', padding: '0.5rem', borderRadius: '4px', border: '1px solid #ccc' })}\r\n                                        value={item.basePrice || ''}\r\n                                        onChange={(e) => {\r\n                                            const bp = parseFloat(e.target.value) || 0;\r\n                                            const profit = parseFloat(item.profitPercentage) || 0;\r\n                                            const others = parseFloat(item.otherCosts) || 0;\r\n                                            const finalPrice = bp * (1 + (profit + others) / 100);\r\n\r\n                                            handleItemChange(index, 'basePrice', e.target.value);\r\n                                            handleItemChange(index, 'price', finalPrice.toFixed(2));\r\n                                        }}\r\n                                        onFocus={() => handleFocus(`item_${index}_basePrice`)}\r\n                                        onBlur={() => handleBlur(`item_${index}_basePrice`)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <label style={{ fontSize: '0.7rem', color: '#334155', display: 'block', fontWeight: 'bold' }}>% Gan.</label>\r\n                                    {renderRemoteCursorLabel(`item_${index}_profitPercentage`)}\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"0\"\r\n                                        style={getInputStyle(`item_${index}_profitPercentage`, { width: '100%', padding: '0.5rem', borderRadius: '4px', border: '1px solid #ccc' })}\r\n                                        value={item.profitPercentage || ''}\r\n                                        onChange={(e) => {\r\n                                            const profit = parseFloat(e.target.value) || 0;\r\n                                            const bp = parseFloat(item.basePrice || 0);\r\n                                            const others = parseFloat(item.otherCosts || 0);\r\n                                            const finalPrice = bp * (1 + (profit + others) / 100);\r\n\r\n                                            handleItemChange(index, 'profitPercentage', e.target.value);\r\n                                            handleItemChange(index, 'price', finalPrice.toFixed(2));\r\n                                        }}\r\n                                        onFocus={() => handleFocus(`item_${index}_profitPercentage`)}\r\n                                        onBlur={() => handleBlur(`item_${index}_profitPercentage`)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <label style={{ fontSize: '0.7rem', color: '#334155', display: 'block', fontWeight: 'bold' }}>% Otros</label>\r\n                                    {renderRemoteCursorLabel(`item_${index}_otherCosts`)}\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        placeholder=\"0\"\r\n                                        style={getInputStyle(`item_${index}_otherCosts`, { width: '100%', padding: '0.5rem', borderRadius: '4px', border: '1px solid #ccc' })}\r\n                                        value={item.otherCosts || ''}\r\n                                        onChange={(e) => {\r\n                                            const profit = parseFloat(item.profitPercentage || 0);\r\n                                            const bp = parseFloat(item.basePrice || 0);\r\n                                            const others = parseFloat(e.target.value) || 0;\r\n                                            const finalPrice = bp * (1 + (profit + others) / 100);\r\n\r\n                                            handleItemChange(index, 'otherCosts', e.target.value);\r\n                                            handleItemChange(index, 'price', finalPrice.toFixed(2));\r\n                                        }}\r\n                                        onFocus={() => handleFocus(`item_${index}_otherCosts`)}\r\n                                        onBlur={() => handleBlur(`item_${index}_otherCosts`)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div style={{ position: 'relative' }}>\r\n                                    <label style={{ fontSize: '0.7rem', color: '#334155', display: 'block', fontWeight: 'bold' }}>Precio U.</label>\r\n                                    {renderRemoteCursorLabel(`item_${index}_price`)}\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        step=\"0.01\"\r\n                                        style={getInputStyle(`item_${index}_price`, { width: '100%', padding: '0.5rem', borderRadius: '4px', border: '1px solid #22c55e', backgroundColor: '#f0fdf4' })}\r\n                                        value={item.price}\r\n                                        onChange={(e) => handleItemChange(index, 'price', e.target.value)}\r\n                                        onFocus={() => handleFocus(`item_${index}_price`)}\r\n                                        onBlur={() => handleBlur(`item_${index}_price`)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    <button onClick={addItem} className=\"btn\" style={{ background: '#e5e7eb', color: '#374151', marginBottom: '2rem' }}>\r\n                        + Agregar Ãtem\r\n                    </button>\r\n\r\n                    <h3 style={{ color: '#1e293b' }}>Notas / Condiciones</h3>\r\n                    <div className=\"card-editor\" style={{ position: 'relative' }}>\r\n                        {renderRemoteCursorLabel('notes')}\r\n                        <textarea\r\n                            value={data.notes !== undefined ? data.notes : (data.generalConditions?.text || '')}\r\n                            onChange={(e) => handleChange('notes', e.target.value)}\r\n                            onFocus={() => handleFocus('notes')}\r\n                            onBlur={() => handleBlur('notes')}\r\n                            rows={6}\r\n                            style={getInputStyle('notes', { width: '100%', padding: '0.75rem', borderRadius: '6px', border: '1px solid #ccc', fontFamily: 'inherit' })}\r\n                            placeholder=\"Notas adicionales para esta cotizaciÃ³n...\"\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Right: PDF Preview */}\r\n                <div style={{ width: '50%', backgroundColor: '#525659', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <PDFViewer width=\"100%\" height=\"100%\" style={{ border: 'none' }} showToolbar={true}>\r\n                        <QuotationDocument data={dataForPdf} />\r\n                    </PDFViewer>\r\n                </div>\r\n            </div>\r\n        </ProtectedRoute>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}