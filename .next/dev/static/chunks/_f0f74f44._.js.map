{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/components/ProtectedRoute.js"],"sourcesContent":["'use client';\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nexport function ProtectedRoute({ children }) {\r\n    const { user, loading } = useAuth();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (!loading && !user) {\r\n            router.push('/login');\r\n        }\r\n    }, [user, loading, router]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                minHeight: '100vh',\r\n                background: '#fafafa'\r\n            }}>\r\n                <p style={{ fontSize: '1.1rem', color: '#667085' }}>Cargando...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return null;\r\n    }\r\n\r\n    return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKO,SAAS,eAAe,EAAE,QAAQ,EAAE;;IACvC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,4IAAO;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACN,IAAI,CAAC,WAAW,CAAC,MAAM;gBACnB,OAAO,IAAI,CAAC;YAChB;QACJ;mCAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACT,qBACI,6LAAC;YAAI,OAAO;gBACR,SAAS;gBACT,gBAAgB;gBAChB,YAAY;gBACZ,WAAW;gBACX,YAAY;YAChB;sBACI,cAAA,6LAAC;gBAAE,OAAO;oBAAE,UAAU;oBAAU,OAAO;gBAAU;0BAAG;;;;;;;;;;;IAGhE;IAEA,IAAI,CAAC,MAAM;QACP,OAAO;IACX;IAEA,qBAAO;kBAAG;;AACd;GA7BgB;;QACc,4IAAO;QAClB,kJAAS;;;KAFZ"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/components/NavBar.js"],"sourcesContent":["'use client';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function NavBar() {\r\n    const { user, signOut } = useAuth();\r\n    const router = useRouter();\r\n\r\n    const handleSignOut = async () => {\r\n        await signOut();\r\n        router.push('/login');\r\n    };\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            right: 0,\r\n            padding: '1rem 2rem',\r\n            zIndex: 1000,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '1rem'\r\n        }}>\r\n            <div style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '0.75rem',\r\n                background: '#ffffff',\r\n                padding: '0.5rem 1rem',\r\n                borderRadius: '50px',\r\n                border: '1px solid #f1f5f9',\r\n                boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\r\n            }}>\r\n                {user.photoURL && (\r\n                    <img\r\n                        src={user.photoURL}\r\n                        alt={user.displayName || user.firstName || 'User'}\r\n                        style={{\r\n                            width: '32px',\r\n                            height: '32px',\r\n                            borderRadius: '50%',\r\n                            border: '2px solid #f1f5f9'\r\n                        }}\r\n                    />\r\n                )}\r\n                <span style={{\r\n                    fontSize: '0.875rem',\r\n                    fontWeight: '600',\r\n                    color: '#101828'\r\n                }}>\r\n                    {(user.displayName || user.firstName || 'Usuario').split(' ')[0]}\r\n                </span>\r\n                <button\r\n                    onClick={handleSignOut}\r\n                    style={{\r\n                        background: 'none',\r\n                        border: 'none',\r\n                        color: '#667085',\r\n                        fontSize: '0.75rem',\r\n                        cursor: 'pointer',\r\n                        padding: '0.25rem 0.5rem',\r\n                        borderRadius: '6px',\r\n                        transition: 'all 0.2s'\r\n                    }}\r\n                    onMouseOver={(e) => {\r\n                        e.currentTarget.style.background = '#f8fafc';\r\n                        e.currentTarget.style.color = '#101828';\r\n                    }}\r\n                    onMouseOut={(e) => {\r\n                        e.currentTarget.style.background = 'none';\r\n                        e.currentTarget.style.color = '#667085';\r\n                    }}\r\n                >\r\n                    Salir\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIO,SAAS;;IACZ,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,4IAAO;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,gBAAgB;QAClB,MAAM;QACN,OAAO,IAAI,CAAC;IAChB;IAEA,IAAI,CAAC,MAAM,OAAO;IAElB,qBACI,6LAAC;QAAI,OAAO;YACR,UAAU;YACV,KAAK;YACL,OAAO;YACP,SAAS;YACT,QAAQ;YACR,SAAS;YACT,YAAY;YACZ,KAAK;QACT;kBACI,cAAA,6LAAC;YAAI,OAAO;gBACR,SAAS;gBACT,YAAY;gBACZ,KAAK;gBACL,YAAY;gBACZ,SAAS;gBACT,cAAc;gBACd,QAAQ;gBACR,WAAW;YACf;;gBACK,KAAK,QAAQ,kBACV,6LAAC;oBACG,KAAK,KAAK,QAAQ;oBAClB,KAAK,KAAK,WAAW,IAAI,KAAK,SAAS,IAAI;oBAC3C,OAAO;wBACH,OAAO;wBACP,QAAQ;wBACR,cAAc;wBACd,QAAQ;oBACZ;;;;;;8BAGR,6LAAC;oBAAK,OAAO;wBACT,UAAU;wBACV,YAAY;wBACZ,OAAO;oBACX;8BACK,CAAC,KAAK,WAAW,IAAI,KAAK,SAAS,IAAI,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;8BAEpE,6LAAC;oBACG,SAAS;oBACT,OAAO;wBACH,YAAY;wBACZ,QAAQ;wBACR,OAAO;wBACP,UAAU;wBACV,QAAQ;wBACR,SAAS;wBACT,cAAc;wBACd,YAAY;oBAChB;oBACA,aAAa,CAAC;wBACV,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;wBACnC,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;oBAClC;oBACA,YAAY,CAAC;wBACT,EAAE,aAAa,CAAC,KAAK,CAAC,UAAU,GAAG;wBACnC,EAAE,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG;oBAClC;8BACH;;;;;;;;;;;;;;;;;AAMjB;GA7EgB;;QACc,4IAAO;QAClB,kJAAS;;;KAFZ"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/src/app/page.js"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { ProtectedRoute } from '@/components/ProtectedRoute'\r\nimport { NavBar } from '@/components/NavBar'\r\n\r\nexport default function Dashboard() {\r\n    const [quotations, setQuotations] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const router = useRouter()\r\n\r\n    const deleteQuotation = async (id, e) => {\r\n        e.stopPropagation(); // Prevent navigating to edit\r\n        if (confirm('¿Estás seguro de que quieres eliminar esta cotización?')) {\r\n            try {\r\n                await fetch(`/api/quotations/${id}`, { method: 'DELETE' });\r\n                setQuotations(quotations.filter(q => q.id !== id));\r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetch('/api/quotations')\r\n            .then(res => {\r\n                if (res.status === 401) {\r\n                    router.push('/login')\r\n                    return []\r\n                }\r\n                return res.json()\r\n            })\r\n            .then(data => {\r\n                if (Array.isArray(data)) {\r\n                    setQuotations(data)\r\n                } else {\r\n                    console.error('API Error:', data.error);\r\n                    setQuotations([]);\r\n                }\r\n                setLoading(false)\r\n            })\r\n            .catch(err => {\r\n                console.error(err)\r\n                setLoading(false)\r\n            })\r\n    }, [router])\r\n\r\n    const createNewQuotation = async () => {\r\n        try {\r\n            const res = await fetch('/api/quotations', {\r\n                method: 'POST',\r\n                body: JSON.stringify({ clientName: 'Sin Título' })\r\n            })\r\n            const quote = await res.json()\r\n            router.push(`/quotations/${quote.id}`)\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ProtectedRoute>\r\n            <NavBar />\r\n            <main className=\"container\">\r\n                <div style={{ marginBottom: '3rem', display: 'flex', justifyContent: 'space-between', alignItems: 'end' }}>\r\n                    <div>\r\n                        <h1 style={{ fontSize: '2.5rem', color: '#101828', letterSpacing: '-0.02em' }}>Mis Cotizaciones</h1>\r\n                        <p style={{ color: '#667085', marginTop: '0.5rem', fontSize: '1.1rem' }}>Administra y crea nuevas propuestas profesionales.</p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '1rem' }}>\r\n                        <button className=\"btn btn-secondary\" onClick={() => router.push('/settings')}>\r\n                            Configuración\r\n                        </button>\r\n                        <button className=\"btn btn-primary\" onClick={createNewQuotation}>\r\n                            Nueva Cotización\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"content-frame\" style={{ padding: '3.5rem' }}>\r\n                    {loading ? (\r\n                        <div style={{ color: '#101828', textAlign: 'center', padding: '4rem', fontSize: '1.1rem' }}>Cargando cotizaciones...</div>\r\n                    ) : quotations.length === 0 ? (\r\n                        <div style={{ textAlign: 'center', padding: '5rem 2rem' }}>\r\n                            <h3 style={{ fontSize: '1.5rem', color: '#101828' }}>Aún no tienes cotizaciones</h3>\r\n                            <p style={{ color: '#667085', margin: '1.5rem 0', fontSize: '1rem' }}>Crea tu primera cotización para comenzar a trabajar.</p>\r\n                            <button className=\"btn btn-primary\" style={{ padding: '0.875rem 2rem' }} onClick={createNewQuotation}>Comenzar ahora</button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"grid-list\">\r\n                            {quotations.map(q => (\r\n                                <div key={q.id} className=\"card\" style={{ cursor: 'pointer', padding: '2rem', border: '1px solid #f1f5f9' }} onClick={() => router.push(`/quotations/${q.id}`)}>\r\n                                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '1.5rem', alignItems: 'center' }}>\r\n                                        <span style={{ fontWeight: '700', color: '#101828', fontSize: '0.9rem', letterSpacing: '0.05em' }}>{q.code}</span>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\r\n                                            <span className={`status-badge status-${q.status}`} style={{ background: '#f8fafc', color: '#475569', border: '1px solid #f1f5f9' }}>{q.status}</span>\r\n                                            <button\r\n                                                onClick={(e) => deleteQuotation(q.id, e)}\r\n                                                style={{ background: 'none', border: 'none', color: '#94a3b8', cursor: 'pointer', fontSize: '1rem', transition: 'color 0.2s' }}\r\n                                                onMouseOver={(e) => e.currentTarget.style.color = '#dc2626'}\r\n                                                onMouseOut={(e) => e.currentTarget.style.color = '#94a3b8'}\r\n                                                title=\"Eliminar\"\r\n                                            >\r\n                                                Borrar\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <h3 style={{ fontSize: '1.25rem', marginBottom: '0.5rem', color: '#101828', fontWeight: '600' }}>\r\n                                        {q.clientName || 'Sin Cliente'}\r\n                                    </h3>\r\n                                    <p style={{ fontSize: '0.875rem', color: '#667085' }}>\r\n                                        Última edición: {new Date(q.updatedAt).toLocaleDateString()}\r\n                                    </p>\r\n                                    <div style={{ marginTop: '1.5rem', paddingTop: '1.5rem', borderTop: '1px solid #f1f5f9', display: 'flex', justifyContent: 'space-between', alignItems: 'baseline' }}>\r\n                                        <span style={{ fontSize: '0.75rem', fontWeight: '600', textTransform: 'uppercase', letterSpacing: '0.05em', color: '#94a3b8' }}>Total</span>\r\n                                        <span style={{ fontSize: '1.5rem', fontWeight: '700', color: '#101828' }}>S/ {(q.total || 0).toFixed(2)}</span>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </main>\r\n        </ProtectedRoute>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/WEB%20DE%20cotizaciones/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}